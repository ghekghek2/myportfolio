{"ast":null,"code":"import { useEffect } from 'react';\nimport { isBrowser, off, on } from './misc/util';\nvar defaultTarget = isBrowser ? window : null;\nvar isListenerType1 = function isListenerType1(target) {\n  return !!target.addEventListener;\n};\nvar isListenerType2 = function isListenerType2(target) {\n  return !!target.on;\n};\nvar useEvent = function useEvent(name, handler, target, options) {\n  if (target === void 0) {\n    target = defaultTarget;\n  }\n  useEffect(function () {\n    if (!handler) {\n      return;\n    }\n    if (!target) {\n      return;\n    }\n    if (isListenerType1(target)) {\n      on(target, name, handler, options);\n    } else if (isListenerType2(target)) {\n      target.on(name, handler, options);\n    }\n    return function () {\n      if (isListenerType1(target)) {\n        off(target, name, handler, options);\n      } else if (isListenerType2(target)) {\n        target.off(name, handler, options);\n      }\n    };\n  }, [name, handler, target, JSON.stringify(options)]);\n};\nexport default useEvent;","map":null,"metadata":{},"sourceType":"module"}